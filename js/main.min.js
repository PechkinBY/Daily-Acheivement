const Btn_login_open=document.querySelector(".user-menu__btn"),Btn_login_close=document.querySelector(".registration__cloes"),Btn_login_submit=document.querySelector(".registration__submit"),Login_block=document.querySelector(".registration"),Body=document.querySelector("body"),Curr_date=document.querySelectorAll(".date__value"),Curr_date_day=Curr_date[0],Curr_date_month=Curr_date[1],Curr_date_year=Curr_date[2],Btn_new_post=document.querySelector(".new-post__btn");let date=new Date;function getCurrDate(){Curr_date_day.innerHTML=date.getDate(),Curr_date_month.innerHTML=["January","February","March","April","May","June","July","August","September","October","November","December"][date.getMonth()],Curr_date_year.innerHTML=date.getFullYear()}function inputValidation(e,t){return e.value<=t?e.classList.contains("invalid")?0:void e.classList.toggle("invalid"):(e.classList.remove("invalid"),1)}function refreshFeed(){let a=document.querySelector("#posts-container"),i=document.querySelector("#tmpl").content;for(let l=0;l<localStorage.length;l++){var c=localStorage.key(l);let e=new Date(Date.parse(c)),t=i.cloneNode(!0),o=t.querySelectorAll(".date__value"),r=t.querySelector(".post__text"),n=t.querySelector(".post__delete");o[0].innerHTML=`${e.getDate()}`,o[1].innerHTML=e.getMonth()+1<10?`/0${e.getMonth()+1}/`:`/${e.getMonth()+1}/`,o[2].innerHTML=`${e.getFullYear()}`,r.innerHTML=localStorage.getItem(c),n.dataset.postDate=`${c}`,a.appendChild(t)}}getCurrDate(),refreshFeed(),Btn_login_open.addEventListener("click",()=>{Login_block.classList.toggle("registration_hide"),Body.classList.toggle("disable")}),Btn_login_close.addEventListener("click",()=>{Login_block.classList.toggle("registration_hide"),Body.classList.toggle("disable")}),Btn_new_post.addEventListener("click",()=>{var e=document.querySelector(".new-post__text");inputValidation(e,10)&&(localStorage.setItem(`${date.getFullYear()}, ${date.getMonth()}, ${date.getDate()}`,e.value),location.reload())}),Btn_login_submit.addEventListener("click",()=>{var e=document.querySelectorAll(".registration__data")[0],t=document.querySelectorAll(".registration__data")[1];const o=document.querySelector(".registration__form");inputValidation(e,3)&&inputValidation(t,5)&&o.submit()});const PostText=document.querySelectorAll(".post__text"),postActivity=document.querySelectorAll(".post__activity");for(let e=0;e<PostText.length;e++)PostText[e].addEventListener("click",()=>{screen.width<=960&&postActivity[e].classList.toggle("absolute")});const postDelete=document.querySelectorAll(".post__delete");for(let t=0;t<postDelete.length;t++)postDelete[t].addEventListener("click",()=>{var e=postDelete[t].dataset.postDate;localStorage.removeItem(e),location.reload()});