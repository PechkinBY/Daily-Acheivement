const Btn_login_open=document.querySelector(".user-menu__btn"),Btn_login_close=document.querySelector(".registration__cloes"),Btn_login_submit=document.querySelector(".registration__submit"),Login_block=document.querySelector(".registration"),Body=document.querySelector("body"),Curr_date=document.querySelectorAll(".date__value"),Curr_date_day=Curr_date[0],Curr_date_month=Curr_date[1],Curr_date_year=Curr_date[2],Btn_new_post=document.querySelector(".new-post__btn");let date=new Date;function getCurrDate(){Curr_date_day.innerHTML=date.getDate(),Curr_date_month.innerHTML=["January","February","March","April","May","June","July","August","September","October","November","December"][date.getMonth()],Curr_date_year.innerHTML=date.getFullYear()}function inputValidation(e,t){return e.value<=t?e.classList.contains("invalid")?0:void e.classList.toggle("invalid"):(e.classList.remove("invalid"),1)}function refreshFeed(){let i=document.querySelector("#posts-container"),c=document.querySelector("#tmpl").content;for(let a=0;a<localStorage.length;a++){let e=localStorage.key(a),t=e.split(", "),o=c.cloneNode(!0),r=o.querySelectorAll(".date__value"),n=o.querySelector(".post__text"),l=o.querySelector(".post__delete");r[0].innerHTML=`${t[2]}`,r[1].innerHTML=t[1]<10?`/0${++t[1]}/`:`/${t[1]}/`,r[2].innerHTML=`${t[0]}`,n.innerHTML=localStorage.getItem(e),l.dataset.postDate=`${e}`,i.appendChild(o)}}getCurrDate(),refreshFeed(),Btn_login_open.addEventListener("click",()=>{Login_block.classList.toggle("registration_hide"),Body.classList.toggle("disable")}),Btn_login_close.addEventListener("click",()=>{Login_block.classList.toggle("registration_hide"),Body.classList.toggle("disable")}),Btn_new_post.addEventListener("click",()=>{var e=document.querySelector(".new-post__text");inputValidation(e,10)&&(localStorage.setItem(`${date.getFullYear()}, ${date.getMonth()}, ${date.getDate()}`,e.value),location.reload())}),Btn_login_submit.addEventListener("click",()=>{var e=document.querySelectorAll(".registration__data")[0],t=document.querySelectorAll(".registration__data")[1];const o=document.querySelector(".registration__form");inputValidation(e,3)&&inputValidation(t,5)&&o.submit()});const PostText=document.querySelectorAll(".post__text"),postActivity=document.querySelectorAll(".post__activity");for(let e=0;e<PostText.length;e++)PostText[e].addEventListener("click",()=>{screen.width<=960&&postActivity[e].classList.toggle("absolute")});const postDelete=document.querySelectorAll(".post__delete");for(let t=0;t<postDelete.length;t++)postDelete[t].addEventListener("click",()=>{var e=postDelete[t].dataset.postDate;localStorage.removeItem(e),location.reload()});